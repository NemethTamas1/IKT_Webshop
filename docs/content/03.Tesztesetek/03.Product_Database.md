# Product - Database

## Adatbázis Tesztesetek a Product-ra vonatkozóan

### Áttekintés

Ez a teszteset a `products` adatbázistábla meglétét és annak oszlopait ellenőrzi. A tesztek biztosítják, hogy a tábla és a szükséges oszlopok megfelelően létre lettek hozva az adatbázisban.

### Tesztosztály: `ProductsTableTest`

#### Használt osztályok és függőségek

- **Namespace**: `Tests\Feature\Database`
- **Modellek**: `App\Models\Product`
- **Tesztelési eszközök**:
    - `Illuminate\Foundation\Testing\DatabaseTransactions`
    - `Illuminate\Support\Facades\Schema`
    - `Tests\TestCase`

### Tesztelési metódusok

1. **`test_products_table_has_created`**

     Ellenőrzi, hogy a `products` tábla létezik-e az adatbázisban.

     ```php
        $this->assertTrue(
                Schema::hasTable('products'),
                'A products tábla nem található az adatbázisban'
        );
     ```

2. **`test_products_table_has_id_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza az `id` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'id'),
             'Az id mező nem létezik a products táblában'
     );
     ```

3. **`test_products_table_has_category_id_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza a `category_id` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'category_id'),
             'A category_id mező nem létezik a products táblában'
     );
     ```

4. **`test_products_table_has_description_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza a `description` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'description'),
             'A description mező nem létezik a products táblában'
     );
     ```

5. **`test_products_table_has_weight_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza a `quantity` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'quantity'),
             'A quantity mező nem létezik a products táblában'
     );
     ```

6. **`test_products_table_has_flavour_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza a `flavour` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'flavour'),
             'A flavour mező nem létezik a products táblában'
     );
     ```

7. **`test_products_table_has_price_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza a `price` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'price'),
             'A price mező nem létezik a products táblában'
     );
     ```

8. **`test_products_table_has_created_at_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza a `created_at` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'created_at'),
             'A created_at mező nem létezik a products táblában'
     );
     ```

9. **`test_products_table_has_updated_at_column`**

     Ellenőrzi, hogy a `products` tábla tartalmazza az `updated_at` oszlopot.

     ```php
     $this->assertTrue(
             Schema::hasColumn('products', 'updated_at'),
             'Az updated_at mező nem létezik a products táblában'
     );
     ```

10. **`test_products_table_has_deleted_at_column`**

        Ellenőrzi, hogy a `products` tábla tartalmazza a `deleted_at` oszlopot (soft delete támogatás).

        ```php
        $this->assertTrue(
                Schema::hasColumn('products', 'deleted_at'),
                'A deleted_at mező nem létezik a products táblában (softDeletes)'
        );
        ```

11. **`test_products_table_has_correct_column_names`**

        Ellenőrzi, hogy a `products` tábla tartalmazza az összes szükséges oszlopot:

        - `id`
        - `category_id`
        - `description`
        - `quantity`
        - `flavour`
        - `price`
        - `created_at`
        - `updated_at`
        - `deleted_at`

        ```php
        $this->assertTrue(
                Schema::hasColumns('products', [
                        'id',
                        'category_id',
                        'description',
                        'quantity',
                        'flavour',
                        'price',
                        'created_at',
                        'updated_at',
                        'deleted_at'
                ]),
                'A products tábla nem tartalmazza a szükséges oszlopokat'
        );
        ```

### Összegzés

Ezen tesztesetek biztosítják, hogy a `products` tábla megfelelően létre lett hozva az adatbázisban, és tartalmazza a szükséges oszlopokat. A tesztek a Laravel beépített `Schema` osztályának funkcióit használják az adatbázis szerkezetének ellenőrzésére.